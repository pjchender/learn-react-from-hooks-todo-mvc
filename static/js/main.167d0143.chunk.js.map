{"version":3,"sources":["components/AddTodo.js","contexts/AuthContext.js","components/Footer.js","components/Header.js","components/TodoItem.js","components/Todos.js","api/todos.js","views/TodoApp.js","views/Login.js","hooks/useFacebookLogin.js","App.js","reportWebVitals.js","index.js"],"names":["AddTodo","inputValue","handleChange","handleKeyPress","handleAddTodo","className","clsx","active","length","htmlFor","id","type","placeholder","onChange","onKeyPress","value","onClick","AuthContext","createContext","status","authResponse","handleFBLogin","handleFBLogout","Container","styled","footer","LogoutBtn","button","Footer","numOfTodos","useContext","Header","TodoItem","todo","handleDelete","handleSave","handleToggleIsDone","updateIsEdit","useState","title","tempTodo","setTempTodo","done","isDone","edit","isEdit","onDoubleClick","e","target","onKeyDown","event","keyCode","Todos","todos","map","baseURL","createTodo","payload","a","fetch","method","headers","localStorage","getItem","body","JSON","stringify","res","json","deleteTodo","patchTodo","TodoApp","setInputValue","setTodos","filter","data","prevTodos","key","useEffect","then","console","log","fetchTodos","currentTodo","find","t","div","Title","h1","Button","Login","to","useFacebookLogin","response","setResponse","window","fbAsyncInit","FB","init","appId","process","cookie","xfbml","version","getLoginStatus","setItem","accessToken","AppEvents","logPageView","d","s","js","fjs","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","document","login","scope","logout","App","isAtLogin","useRouteMatch","Provider","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.167d0143.chunk.js","sourcesContent":["import clsx from 'clsx';\n\nconst AddTodo = ({\n  inputValue,\n  handleChange,\n  handleKeyPress,\n  handleAddTodo,\n}) => (\n  <div className={clsx('add-todo', { active: inputValue.length > 0 })}>\n    <label className=\"add-todo-icon icon\" htmlFor=\"add-todo-input\"></label>\n    <div className=\"add-todo-input\">\n      <input\n        id=\"add-todo-input\"\n        type=\"text\"\n        placeholder=\"新增工作\"\n        onChange={handleChange}\n        onKeyPress={handleKeyPress}\n        value={inputValue}\n      />\n    </div>\n    <div className=\"add-todo-action\">\n      <button className=\"btn-reset btn-add\" onClick={handleAddTodo}>\n        {' '}\n        新增{' '}\n      </button>\n    </div>\n  </div>\n);\n\nexport default AddTodo;\n","import { createContext } from 'react';\n\nconst AuthContext = createContext({\n  status: null,\n  authResponse: null,\n  handleFBLogin: null,\n  handleFBLogout: null,\n});\n\nexport default AuthContext;\n","import styled from 'styled-components';\nimport AuthContext from 'contexts/AuthContext';\nimport { useContext } from 'react';\n\nconst Container = styled.footer`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst LogoutBtn = styled.button`\n  font-size: 14px;\n  font-weight: 300;\n  margin: 2rem 0 1rem;\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst Footer = ({ numOfTodos }) => {\n  const { handleFBLogout } = useContext(AuthContext);\n  return (\n    <Container>\n      <p>剩餘項目數：{numOfTodos}</p>\n      <LogoutBtn className=\"btn-reset\" onClick={handleFBLogout}>\n        登出\n      </LogoutBtn>\n    </Container>\n  );\n};\n\nexport default Footer;\n","const Header = () => (\n  <header>\n    <h3>Tasks</h3>\n  </header>\n);\n\nexport default Header;\n","import clsx from 'clsx';\nimport { useState } from 'react';\n\nconst TodoItem = ({\n  todo,\n  handleDelete,\n  handleSave,\n  handleToggleIsDone,\n  updateIsEdit,\n}) => {\n  const [tempTodo, setTempTodo] = useState(todo.title);\n\n  const handleChange = (e) => {\n    setTempTodo(e.target.value);\n  };\n\n  const handleKeyDown = (event) => {\n    // keyCode 13 一定是 enter，但 enter 的 keyCode 不一定是 13\n    if (event.keyCode === 13 && tempTodo.length !== 0) {\n      handleSave({\n        id: todo.id,\n        title: tempTodo,\n        isDone: todo.isDone,\n      });\n    }\n\n    // keyCode 27 是 Escape\n    if (event.keyCode === 27) {\n      // 取消儲存\n      updateIsEdit({\n        id: todo.id,\n        isEdit: false,\n      });\n\n      // 把 tempTodo 改成修改前的內容\n      setTempTodo(todo.title);\n    }\n  };\n\n  return (\n    <div\n      className={clsx('task-item', {\n        done: todo.isDone,\n        edit: todo.isEdit,\n      })}\n    >\n      <div className=\"task-item-checked\">\n        <span\n          className=\"icon icon-checked\"\n          onClick={handleToggleIsDone(todo.id)}\n        />\n      </div>\n      <div\n        className=\"task-item-body\"\n        onDoubleClick={() => updateIsEdit({ id: todo.id, isEdit: true })}\n      >\n        <span className=\"task-item-body-text\">{todo.title}</span>\n        <input\n          className=\"task-item-body-input\"\n          type=\"text\"\n          placeholder=\"新增工作\"\n          value={tempTodo}\n          onChange={handleChange}\n          onKeyDown={handleKeyDown}\n        />\n      </div>\n      <div className=\"task-item-action\">\n        <button\n          className=\"btn-reset btn-destroy icon\"\n          onClick={handleDelete(todo.id)}\n        >\n          {' '}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default TodoItem;\n","import TodoItem from './TodoItem';\n\nconst Todos = ({\n  todos,\n  handleDelete,\n  handleSave,\n  handleToggleIsDone,\n  updateIsEdit,\n}) => (\n  <div className=\"todos\">\n    {todos.map((todo) => (\n      <TodoItem\n        key={todo.id}\n        todo={todo}\n        handleDelete={handleDelete}\n        handleSave={handleSave}\n        handleToggleIsDone={handleToggleIsDone}\n        updateIsEdit={updateIsEdit}\n      />\n    ))}\n  </div>\n);\n\nexport default Todos;\n","const baseURL = 'https://todo-mvc.herokuapp.com/api/v1';\n\nexport const getTodos = () => {\n  return fetch(`${baseURL}/todos/`, {\n    headers: {\n      'Facebook-Client-Token': localStorage.getItem('facebookClientToken'),\n    },\n  }).then((res) => res.json());\n};\n\nexport const createTodo = async (payload) => {\n  const { title, isDone } = payload;\n  const res = await fetch(`${baseURL}/todos/`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Facebook-Client-Token': localStorage.getItem('facebookClientToken'),\n    },\n    body: JSON.stringify({\n      title,\n      isDone,\n    }),\n  });\n\n  return res.json();\n};\n\nexport const deleteTodo = async (id) => {\n  const res = await fetch(`${baseURL}/todos/${id}`, {\n    method: 'DELETE',\n    headers: {\n      'Facebook-Client-Token': localStorage.getItem('facebookClientToken'),\n    },\n  });\n\n  return await res.json();\n};\n\nexport const patchTodo = async (payload) => {\n  const { id, title, isDone } = payload;\n\n  const res = await fetch(`${baseURL}/todos/${id}`, {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json',\n      'Facebook-Client-Token': localStorage.getItem('facebookClientToken'),\n    },\n    body: JSON.stringify({\n      title,\n      isDone,\n    }),\n  });\n\n  return await res.json();\n};\n","import 'App.scss';\n\nimport AddTodo from 'components/AddTodo';\nimport Footer from 'components/Footer';\nimport Header from 'components/Header';\nimport Todos from 'components/Todos';\nimport { useState, useEffect } from 'react';\nimport { getTodos, createTodo, deleteTodo, patchTodo } from 'api/todos';\n\nconst TodoApp = () => {\n  const [inputValue, setInputValue] = useState('');\n  const [todos, setTodos] = useState([]);\n\n  const numOfTodos = todos.filter((todo) => !todo.isDone).length;\n\n  const handleChange = (e) => {\n    setInputValue(e.target.value);\n  };\n\n  const handleAddTodo = async () => {\n    if (inputValue.length === 0) {\n      return;\n    }\n\n    const data = await createTodo({\n      title: inputValue,\n      isDone: false,\n    });\n\n    setTodos((prevTodos) => {\n      return [\n        ...prevTodos,\n        {\n          ...data,\n          isEdit: false,\n        },\n      ];\n    });\n\n    setInputValue('');\n  };\n\n  const handleKeyPress = async (event) => {\n    if (event.key !== 'Enter') {\n      return;\n    }\n\n    if (inputValue.length === 0) {\n      return;\n    }\n\n    const data = await createTodo({\n      title: inputValue,\n      isDone: false,\n    });\n\n    setTodos((prevTodos) => {\n      return [\n        ...prevTodos,\n        {\n          ...data,\n          isEdit: false,\n        },\n      ];\n    });\n\n    setInputValue('');\n  };\n\n  const handleDelete = (id) => async () => {\n    await deleteTodo(id);\n\n    setTodos((prevTodos) => prevTodos.filter((todo) => todo.id !== id));\n  };\n\n  const handleToggleIsDone = (id) => async () => {\n    const currentTodo = todos.find((t) => t.id === id);\n    await patchTodo({\n      id,\n      title: currentTodo.title,\n      isDone: !currentTodo.isDone,\n    });\n\n    setTodos((prevTodos) =>\n      prevTodos.map((todo) => {\n        if (todo.id !== id) {\n          return todo;\n        } else {\n          return {\n            ...todo,\n            isDone: !todo.isDone,\n          };\n        }\n      })\n    );\n  };\n\n  const handleSave = async (payload) => {\n    const { id, title } = payload;\n    await patchTodo({\n      id,\n      title,\n    });\n\n    setTodos((prevTodos) =>\n      prevTodos.map((todo) => {\n        if (todo.id !== id) {\n          return todo;\n        }\n        return { ...todo, title, isEdit: false };\n      })\n    );\n  };\n\n  const updateIsEdit = ({ id, isEdit }) => {\n    setTodos((prevTodos) =>\n      prevTodos.map((todo) => {\n        if (todo.id !== id) {\n          return todo;\n        }\n        return { ...todo, isEdit };\n      })\n    );\n  };\n\n  useEffect(() => {\n    const fetchTodos = async () => {\n      try {\n        const todos = await getTodos();\n\n        setTodos(\n          todos.map((todo) => ({\n            ...todo,\n            isEdit: false,\n          }))\n        );\n      } catch (error) {\n        console.log('fetchTodos error', error);\n      }\n    };\n\n    fetchTodos();\n  }, []);\n\n  return (\n    <div>\n      <Header />\n      <AddTodo\n        inputValue={inputValue}\n        handleChange={handleChange}\n        handleKeyPress={handleKeyPress}\n        handleAddTodo={handleAddTodo}\n      />\n      <Todos\n        todos={todos}\n        handleDelete={handleDelete}\n        handleSave={handleSave}\n        handleToggleIsDone={handleToggleIsDone}\n        updateIsEdit={updateIsEdit}\n      />\n      <Footer numOfTodos={numOfTodos} />\n    </div>\n  );\n};\n\nexport default TodoApp;\n","import styled from 'styled-components';\nimport { Redirect } from 'react-router-dom';\nimport AuthContext from 'contexts/AuthContext';\nimport { useContext } from 'react';\n\nconst Container = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Title = styled.h1`\n  text-align: center;\n  font-family: 'Noto Sans TC', sans-serif;\n  margin: 2rem 0;\n`;\n\nconst Button = styled.button`\n  background: #1877f2;\n  color: white;\n  min-width: 200px;\n  font-family: 'Noto Sans TC', sans-serif;\n  font-weight: bold;\n  padding: 6px 0;\n  margin: 2rem 0;\n\n  &:hover {\n    background: #385898;\n  }\n`;\n\nconst Login = () => {\n  const { status, handleFBLogin } = useContext(AuthContext);\n\n  if (status === 'connected') {\n    return <Redirect to=\"/todos\" />;\n  }\n\n  return (\n    <Container>\n      <Title>登入 Todo</Title>\n      <Button className=\"btn-reset\" onClick={handleFBLogin}>\n        {' '}\n        使用 Facebook 登入{' '}\n      </Button>\n    </Container>\n  );\n};\n\nexport default Login;\n","import { useState, useEffect } from 'react';\n\nconst useFacebookLogin = () => {\n  const [response, setResponse] = useState();\n\n  useEffect(() => {\n    // SDK 載入完成時會立即呼叫 fbAsyncInit，在這個函式中對 Facebook SDK 進行初始化\n    window.fbAsyncInit = function () {\n      // 初始化 Facebook SDK\n      window.FB.init({\n        appId: process.env.REACT_APP_FB_APP_ID,\n        cookie: true,\n        xfbml: true,\n        version: process.env.REACT_APP_FB_APP_VERSION,\n      });\n\n      console.log('[fbAsyncInit] after window.FB.init');\n\n      // 取得使用者登入狀態\n      window.FB.getLoginStatus(function (response) {\n        // console.log('[refreshLoginStatus]', response);\n        localStorage.setItem(\n          'facebookClientToken',\n          response?.authResponse?.accessToken\n        );\n        setResponse(response);\n      });\n\n      window.FB.AppEvents.logPageView();\n    };\n    // 載入 Facebook SDK\n    (function (d, s, id) {\n      var js,\n        fjs = d.getElementsByTagName(s)[0];\n      if (d.getElementById(id)) {\n        return;\n      }\n      js = d.createElement(s);\n      js.id = id;\n      js.src = 'https://connect.facebook.net/en_US/sdk.js';\n      fjs.parentNode.insertBefore(js, fjs);\n    })(document, 'script', 'facebook-jssdk');\n  }, []);\n\n  const handleFBLogin = () => {\n    // 跳出 Facebook 登入的對話框\n    window.FB.login(\n      function (response) {\n        // console.log('handleFBLogin', response);\n        setResponse(response);\n        localStorage.setItem(\n          'facebookClientToken',\n          response?.authResponse?.accessToken\n        );\n      },\n      { scope: 'public_profile,email' }\n    );\n  };\n\n  const handleFBLogout = () => {\n    window.FB.logout(function (response) {\n      // console.log('handleFBLogout', response);\n      localStorage.setItem(\n        'facebookClientToken',\n        response?.authResponse?.accessToken\n      );\n      setResponse(response);\n    });\n  };\n\n  return [response, handleFBLogin, handleFBLogout];\n};\n\nexport default useFacebookLogin;\n","import './App.scss';\n\nimport TodoApp from 'views/TodoApp';\nimport Login from 'views/Login';\nimport useFacebookLogin from 'hooks/useFacebookLogin';\nimport { Switch, Route, Redirect, useRouteMatch } from 'react-router-dom';\nimport AuthContext from './contexts/AuthContext';\n\nconst App = () => {\n  const [response, handleFBLogin, handleFBLogout] = useFacebookLogin();\n  const isAtLogin = useRouteMatch('/login');\n\n  if (!response) {\n    return <></>;\n  }\n\n  if (response.status !== 'connected' && !isAtLogin) {\n    return <Redirect to=\"/login\" />;\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        status: response.status,\n        authResponse: response.authResponse,\n        handleFBLogin,\n        handleFBLogout,\n      }}\n    >\n      <div className=\"app\">\n        <Switch>\n          <Route exact path=\"/\">\n            {response.status === 'connected' ? (\n              <Redirect to=\"/todos\" />\n            ) : (\n              <Redirect to=\"/login\" />\n            )}\n          </Route>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/todos\">\n            <TodoApp />\n          </Route>\n        </Switch>\n      </div>\n    </AuthContext.Provider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}